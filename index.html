<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran PDP DPC KESAN Kab. Sinjai</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Memuat Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Menggunakan font Inter sebagai default */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style untuk scrollbar agar lebih modern (opsional) */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">
    <div class="w-full max-w-2xl bg-white rounded-xl shadow-lg p-6 sm:p-8 md:p-10 my-8">
        <!-- Header Formulir -->
        <div class="text-center mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-800">Formulir Pendaftaran</h1>
            <p class="text-md sm:text-lg text-gray-600 mt-2">Pendidikan Dasar Pancasila (PDP)<br>DPC Kebangkitan Siswa Nusantara (KESAN) Kab. Sinjai</p>
        </div>

        <!-- Form -->
        <form id="registrationForm">
            <div class="space-y-6">
                <!-- Data Diri Section -->
                <div>
                    <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">I. Data Diri Calon Peserta</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Nama Lengkap -->
                        <div>
                            <label for="nama_lengkap" class="block mb-2 text-sm font-medium text-gray-700">Nama Lengkap</label>
                            <input type="text" id="nama_lengkap" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: Andi Pratama" required>
                        </div>
                        <!-- Tempat Lahir -->
                        <div>
                            <label for="tempat_lahir" class="block mb-2 text-sm font-medium text-gray-700">Tempat Lahir</label>
                            <input type="text" id="tempat_lahir" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: Sinjai" required>
                        </div>
                        <!-- Tanggal Lahir -->
                        <div>
                            <label for="tanggal_lahir" class="block mb-2 text-sm font-medium text-gray-700">Tanggal Lahir</label>
                            <input type="date" id="tanggal_lahir" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                        </div>
                        <!-- Jenis Kelamin -->
                        <div>
                            <label for="jenis_kelamin" class="block mb-2 text-sm font-medium text-gray-700">Jenis Kelamin</label>
                            <select id="jenis_kelamin" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                                <option value="" disabled selected>Pilih Jenis Kelamin</option>
                                <option value="Laki-laki">Laki-laki</option>
                                <option value="Perempuan">Perempuan</option>
                            </select>
                        </div>
                         <!-- Agama -->
                        <div class="md:col-span-2">
                             <label for="agama" class="block mb-2 text-sm font-medium text-gray-700">Agama</label>
                            <input type="text" id="agama" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: Islam" required>
                        </div>
                        <!-- Alamat Lengkap -->
                        <div class="md:col-span-2">
                            <label for="alamat" class="block mb-2 text-sm font-medium text-gray-700">Alamat Lengkap</label>
                            <textarea id="alamat" rows="3" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Tulis nama jalan, desa/kelurahan, kecamatan" required></textarea>
                        </div>
                    </div>
                </div>

                <!-- Data Pendidikan & Kontak Section -->
                <div>
                    <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">II. Informasi Pendidikan & Kontak</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <!-- Asal Sekolah -->
                        <div>
                            <label for="asal_sekolah" class="block mb-2 text-sm font-medium text-gray-700">Asal Sekolah</label>
                            <input type="text" id="asal_sekolah" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: SMAN 1 Sinjai" required>
                        </div>
                        <!-- Kelas -->
                        <div>
                            <label for="kelas" class="block mb-2 text-sm font-medium text-gray-700">Kelas</label>
                            <input type="text" id="kelas" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: XI IPA 1" required>
                        </div>
                        <!-- Nomor HP/WA -->
                        <div>
                            <label for="no_wa" class="block mb-2 text-sm font-medium text-gray-700">Nomor HP/WA Aktif</label>
                            <input type="tel" id="no_wa" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: 081234567890" required>
                        </div>
                         <!-- Email -->
                        <div>
                            <label for="email" class="block mb-2 text-sm font-medium text-gray-700">Email (Opsional)</label>
                            <input type="email" id="email" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Contoh: siswa@email.com">
                        </div>
                    </div>
                </div>

                <!-- Informasi Lainnya Section -->
                <div>
                    <h2 class="text-lg font-semibold text-gray-700 border-b pb-2 mb-4">III. Informasi Lainnya</h2>
                    <div class="space-y-6">
                        <!-- Motivasi -->
                        <div>
                            <label for="motivasi" class="block mb-2 text-sm font-medium text-gray-700">Apa motivasi Anda mengikuti PDP?</label>
                            <textarea id="motivasi" rows="4" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Jelaskan alasan dan harapan Anda..." required></textarea>
                        </div>
                        <!-- Riwayat Penyakit -->
                        <div>
                            <label for="riwayat_penyakit" class="block mb-2 text-sm font-medium text-gray-700">Riwayat Penyakit</label>
                            <input type="text" id="riwayat_penyakit" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder="Isi 'Tidak Ada' jika tidak memiliki riwayat penyakit" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tombol Submit -->
            <div class="mt-10 pt-6 border-t">
                <button type="submit" class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-lg px-5 py-3 text-center transition-colors duration-300">
                    Daftar Sekarang via WhatsApp
                </button>
            </div>
        </form>
    </div>

    <script>
        // Menambahkan event listener ke form saat disubmit
        document.getElementById('registrationForm').addEventListener('submit', function(event) {
            // Mencegah form dari pengiriman standar
            event.preventDefault();

            // --- Mengambil data dari setiap input ---
            const nama_lengkap = document.getElementById('nama_lengkap').value;
            const tempat_lahir = document.getElementById('tempat_lahir').value;
            const tanggal_lahir_raw = document.getElementById('tanggal_lahir').value;
            const jenis_kelamin = document.getElementById('jenis_kelamin').value;
            const agama = document.getElementById('agama').value;
            const alamat = document.getElementById('alamat').value;
            const asal_sekolah = document.getElementById('asal_sekolah').value;
            const kelas = document.getElementById('kelas').value;
            const no_wa = document.getElementById('no_wa').value;
            const email = document.getElementById('email').value || "-"; // Default value jika kosong
            const motivasi = document.getElementById('motivasi').value;
            const riwayat_penyakit = document.getElementById('riwayat_penyakit').value;
            
            // --- Memformat tanggal lahir menjadi DD-MM-YYYY ---
            let tanggal_lahir_formatted = "Data tidak valid";
            if (tanggal_lahir_raw) {
                const date = new Date(tanggal_lahir_raw);
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0'); // Bulan dimulai dari 0
                const year = date.getFullYear();
                tanggal_lahir_formatted = `${day}-${month}-${year}`;
            }

            // --- Nomor WhatsApp tujuan ---
            const nomorPanitia = '6287731949761';

            // --- Membuat template pesan WhatsApp ---
            // Simbol bintang (*) akan membuat teks menjadi tebal di WhatsApp
            const pesan = `
Assalamualaikum Wr. Wb.
Saya ingin mendaftar sebagai Calon Peserta Pendidikan Dasar Pancasila (PDP) DPC KESAN Kab. Sinjai.

Berikut adalah data diri saya:
-----------------------------------
*DATA DIRI*
*Nama Lengkap:* ${nama_lengkap}
*Tempat, Tgl Lahir:* ${tempat_lahir}, ${tanggal_lahir_formatted}
*Jenis Kelamin:* ${jenis_kelamin}
*Agama:* ${agama}
*Alamat Lengkap:* ${alamat}

*INFORMASI PENDIDIKAN & KONTAK*
*Asal Sekolah:* ${asal_sekolah}
*Kelas:* ${kelas}
*No. HP/WA:* ${no_wa}
*Email:* ${email}

*INFORMASI LAINNYA*
*Motivasi Mengikuti PDP:*
${motivasi}

*Riwayat Penyakit:* ${riwayat_penyakit}
-----------------------------------

Mohon untuk segera diproses. Terima kasih.
Wassalamualaikum Wr. Wb.
            `;

            // --- Meng-encode pesan agar sesuai format URL ---
            const pesanEncoded = encodeURIComponent(pesan.trim());

            // --- Membuat link WhatsApp ---
            const linkWhatsApp = `https://wa.me/${nomorPanitia}?text=${pesanEncoded}`;

            // --- Membuka link di tab baru ---
            window.open(linkWhatsApp, '_blank');
        });
    </script>
</body>
</html>

